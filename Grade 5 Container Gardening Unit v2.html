<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5: Container Gardening Unit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Earthy Greens & Warm Neutrals -->
    <!-- Application Structure Plan: The application uses a tabbed navigation structure ("Overview", "Daily Lessons", "Resources") to manage the large amount of information. This prevents overwhelming the user with a long scroll. The "Daily Lessons" section has its own sub-navigation for each of the 10 days, revealing content dynamically. The "Resources" section is a centralized library with modals for viewing templates and worksheets. This structure was chosen to provide a clear, hierarchical, and task-oriented user flow, allowing a teacher to easily access either a high-level summary, a specific day's plan, or a particular resource without getting lost. -->
    <!-- Visualization & Content Choices: 
        - Unit Timeline (Overview): Goal=Inform/Navigate. Method=Interactive HTML/CSS timeline. Interaction=Clicking a day jumps to that lesson. Justification=Provides a quick visual summary and navigation shortcut.
        - Jamaican Crops Chart (Overview): Goal=Inform. Method=Chart.js Bar Chart. Interaction=Tooltips on hover show details. Justification=More engaging and visually comparative than a simple list of crops.
        - 5E Lesson Plan Layout (Daily Lessons): Goal=Organize/Explain. Method=Tabbed content display with structured cards. Interaction=Clicking day buttons to show/hide relevant plans. Justification=Breaks down dense curriculum into manageable, structured segments for easy teacher access.
        - Interactive Budget Planner (Resources): Goal=Elaborate/Apply Math. Method=HTML form with JS calculations. Interaction=User input dynamically updates totals. Justification=Turns a static template into a functional tool.
        - Career Pathways Diagram (Resources): Goal=Inform/Elaborate. Method=Interactive HTML/CSS diagram. Interaction=Clicking a career reveals a description. Justification=More engaging and exploratory than a static list or graphic.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #FDFBF8; }
        .tab-btn { transition: all 0.3s ease; }
        .tab-btn.active { background-color: #2E7D32; color: white; }
        .day-btn.active { background-color: #66BB6A; color: white; border-color: #4CAF50; }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .day-content { display: none; }
        .day-content.active { display: block; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 350px; max-height: 400px; }
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content { background-color: white; padding: 2rem; border-radius: 0.5rem; width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto; position: relative; }
        .modal.active { display: flex; }
        .loader {
            border: 4px solid #f3f3f3; border-radius: 50%; border-top: 4px solid #4CAF50;
            width: 30px; height: 30px; animation: spin 1s linear infinite; display: none; margin: 1rem auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #plant-canvas { border: 2px dashed #ccc; touch-action: none; }
        
        @media print {
            body.printing-active {
                visibility: hidden;
            }
            body.printing-active .printable-section,
            body.printing-active .printable-section * {
                visibility: visible;
            }
            body.printing-active .printable-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                margin: 0;
                padding: 1rem;
                border: none;
                box-shadow: none;
            }
            body.printing-active .modal.printable-section {
                display: block !important;
                background: white;
                overflow: visible;
                width: 100%;
                height: auto;
                position: relative;
            }
            body.printing-active .modal-content.printable-section {
                max-height: none;
                overflow: visible;
                box-shadow: none;
                border: 1px solid #ccc;
            }
            .no-print, .no-print * {
                display: none !important;
            }
             h1, h2, h3 { page-break-after: avoid; }
            table, .chart-container, img { page-break-inside: avoid; }
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8 no-print">
            <h2 class="text-3xl md:text-4xl font-semibold text-gray-700">Port Maria Primary School</h2>
            <h1 class="text-4xl md:text-5xl font-bold text-[#2E7D32]">Grade 5 Container Gardening Unit</h1>
            <p class="text-lg text-gray-600 mt-2">Prepared by D. Green</p>
        </header>

        <nav class="flex justify-center border-b-2 border-gray-200 mb-8 no-print">
            <button class="tab-btn active text-lg font-semibold py-4 px-6 text-gray-600 hover:bg-gray-200" data-tab="overview">Unit Overview</button>
            <button class="tab-btn text-lg font-semibold py-4 px-6 text-gray-600 hover:bg-gray-200" data-tab="lessons">Daily Lessons</button>
            <button class="tab-btn text-lg font-semibold py-4 px-6 text-gray-600 hover:bg-gray-200" data-tab="resources">Resources</button>
        </nav>

        <main>
            <!-- Unit Overview Section -->
            <section id="overview" class="content-section active">
                <div class="bg-white p-6 rounded-lg shadow-md relative">
                    <div class="absolute top-4 right-4 no-print">
                        <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                    </div>
                    <h2 class="text-2xl font-bold text-[#4CAF50] mb-4">Welcome, Teacher!</h2>
                    <p class="text-gray-700 mb-6">This interactive guide provides a complete 10-day instructional unit for Grade 5 students on establishing and maintaining a container garden. Aligned with the NSC curriculum's "Agriculture for Sustainable Development" theme, this unit uses the 5E model to foster inquiry, hands-on learning, and a deep connection to local agriculture. Navigate through the sections to find daily plans, resources, assessments, and more.</p>

                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Unit Learning Objectives</h3>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li>Design and plan a small-scale container garden.</li>
                                <li>Identify suitable local plants (e.g., callaloo, pak choi, scotch bonnet) for container gardening.</li>
                                <li>Demonstrate basic plant propagation and care techniques.</li>
                                <li>Apply math skills in budgeting and garden layout.</li>
                                <li>Document learning through a reflection journal and planting logs.</li>
                                <li>Collaborate effectively in groups to achieve a common goal.</li>
                                <li>Explore careers in modern Jamaican agriculture.</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Recommended Jamaican Crops</h3>
                            <p class="text-sm text-gray-600 mb-2">This chart shows the estimated time from planting to first harvest for popular local crops suitable for container gardening.</p>
                            <div class="chart-container h-64 md:h-80 max-h-[350px]">
                                <canvas id="cropsChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8">
                        <h3 class="text-xl font-bold text-center text-[#4CAF50] mb-4">Unit Timeline at a Glance</h3>
                        <div class="flex flex-col md:flex-row justify-between text-center text-sm">
                            <div class="flex-1 p-2 m-1 bg-green-100 rounded-lg"><strong>Day 1-2:</strong> Intro & Plant Needs</div>
                            <div class="flex-1 p-2 m-1 bg-green-100 rounded-lg"><strong>Day 3-4:</strong> Containers & Design</div>
                            <div class="flex-1 p-2 m-1 bg-green-100 rounded-lg"><strong>Day 5-6:</strong> Planting & Plant Health</div>
                            <div class="flex-1 p-2 m-1 bg-green-100 rounded-lg"><strong>Day 7-8:</strong> Maintenance & Presentations</div>
                            <div class="flex-1 p-2 m-1 bg-green-100 rounded-lg"><strong>Day 9-10:</strong> Careers & Showcase</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Daily Lessons Section -->
            <section id="lessons" class="content-section">
                 <div class="text-center mb-6 no-print">
                     <p class="text-gray-600">Select a day to view the detailed 1-hour lesson plan based on the 5E model.</p>
                 </div>
                 <div class="flex flex-wrap justify-center gap-2 mb-8 no-print">
                    <button class="day-btn active border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day1">Day 1</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day2">Day 2</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day3">Day 3</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day4">Day 4</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day5">Day 5</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day6">Day 6</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day7">Day 7</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day8">Day 8</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day9">Day 9</button>
                    <button class="day-btn border-2 border-transparent rounded-full px-4 py-2 font-semibold" data-day="day10">Day 10</button>
                 </div>
                 
                 <div id="day1" class="day-content active">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 1: What is a Garden?</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Activate prior knowledge about gardening and introduce the container gardening project.</div>
                            <div><strong>Vocabulary:</strong> Garden, Container, Soil, Seed, Sustainable.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (15 mins):</strong> Start with a "Think-Pair-Share" activity. Ask students: "What comes to mind when you hear the word 'garden'?" Show images of different types of gardens, including local community gardens in Jamaica.</p>
                            <p><strong>Explore (20 mins):</strong> In small groups, students complete a K-W-L chart (What I Know, What I Want to Know, What I Learned) about container gardening. Groups share their "Want to Know" questions with the class.</p>
                            <p><strong>Explain (10 mins):</strong> Teacher introduces the project: "Over the next two weeks, we will become agricultural scientists and designers to create our very own container gardens right here at school!" Explain what a container garden is and why it's useful.</p>
                            <p><strong>Elaborate (10 mins):</strong> Students begin their Reflection Journal (see Resources) with the prompt: "What am I most excited to grow or learn in our garden project? Why?"</p>
                            <p><strong>Evaluate (5 mins):</strong> Collect KWL charts to assess prior knowledge and misconceptions. Observe group discussions.</p>
                        </div>
                    </div>
                 </div>
                 <div id="day2" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                         <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 2: What Do Plants Need to Thrive?</h3>
                         <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Identify the basic needs of plants (sunlight, water, soil/nutrients, air).</div>
                            <div><strong>Vocabulary:</strong> Sunlight, Water, Nutrients, Sprout, Germination.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (10 mins):</strong> Show a healthy plant and a wilted plant. Ask students to predict what might be different about how each plant was cared for.</p>
                            <p><strong>Explore (25 mins):</strong> Hands-on station rotation. Station 1: Different soil types (sandy, clay, loam) to touch and observe. Station 2: Seeds (e.g., bean seeds) in a sealed bag with a wet paper towel to observe germination. Station 3: Two identical plants, one in a sunny spot, one in a dark cupboard (to be observed over days).</p>
                            <p><strong>Explain (15 mins):</strong> Class discussion to consolidate findings from the stations. Teacher formally defines the essential needs of a plant, creating an anchor chart with the students.</p>
                            <p><strong>Elaborate (5 mins):</strong> Students sketch a "happy plant" in their journals, labeling the things it needs to grow strong.</p>
                            <p><strong>Evaluate (5 mins):</strong> Exit ticket: "List three things a plant needs to survive."</p>
                        </div>
                    </div>
                 </div>
                <div id="day3" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 3: All About Soil & Containers</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Compare different potting mediums and identify suitable containers for gardening.</div>
                            <div><strong>Vocabulary:</strong> Potting Mix, Compost, Drainage, Upcycle, Aeration.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (5 mins):</strong> Show a collection of upcycled containers (plastic bottles, old boots, paint cans). Ask: "Can we grow a plant in this?"</p>
                            <p><strong>Explore (20 mins):</strong> Using the Soil Comparison Handout (see Resources), students work in groups to examine and describe different soil mixes (e.g., topsoil, compost, perlite mix). They test drainage by pouring a small amount of water through each.</p>
                            <p><strong>Explain (20 mins):</strong> Teacher explains the importance of good drainage and aeration in container gardening. Discuss the pros and cons of different containers (plastic, clay, wood) and the environmental benefits of upcycling.</p>
                            <p><strong>Elaborate (10 mins):</strong> Students brainstorm and sketch three different upcycled container ideas for their garden project in their journals.</p>
                            <p><strong>Evaluate (5 mins):</strong> Observe group work and review student sketches for understanding of container requirements (e.g., including drainage holes).</p>
                        </div>
                    </div>
                </div>
                 <div id="day4" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 4: Garden Designers</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Plan the garden layout and create a budget.</div>
                            <div><strong>Vocabulary:</strong> Layout, Budget, Expense, Spacing, Companion Planting.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (10 mins):</strong> Show examples of different container garden layouts (vertical, clustered, window boxes). Discuss how arrangement can affect sunlight exposure and ease of access.</p>
                            <p><strong>Explore (25 mins):</strong> In project groups, students use the Garden Layout Grid and Budget Planner templates (see Resources). They decide which plants they want to grow, how many, and what containers/materials they will need. This is a key cross-curricular link with Math and Art/Design.</p>
                            <p><strong>Explain (10 mins):</strong> Teacher circulates, guiding groups on practical considerations like plant spacing (e.g., "A tomato plant needs more space than a pak choi") and budgeting. Introduce the concept of companion planting briefly (e.g., marigolds keep pests away).</p>
                            <p><strong>Elaborate (10 mins):</strong> Groups finalize their draft plans and budgets. They must justify their choices.</p>
                            <p><strong>Evaluate (5 mins):</strong> Collect draft plans and budgets for review using the Garden Design Rubric.</p>
                        </div>
                    </div>
                </div>
                 <div id="day5" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 5: Planting Day!</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Demonstrate proper planting techniques for seeds and seedlings.</div>
                            <div><strong>Vocabulary:</strong> Propagation, Seedling, Transplant, Depth, Germination.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (10 mins):</strong> Teacher demonstrates how to prepare a container (add drainage holes, fill with soil). Review the Safety Guide handout (see Resources) before handling tools.</p>
                            <p><strong>Explore (30 mins):</strong> Hands-on planting time! Following their plans, students prepare their containers and plant their seeds or transplant seedlings. The teacher and any parent volunteers circulate to assist. Refer to the Propagation Methods Chart (see Resources) for guidance.</p>
                            <p><strong>Explain (10 mins):</strong> While students work, the teacher explains the importance of planting at the correct depth and watering gently after planting.</p>
                            <p><strong>Elaborate (5 mins):</strong> Students create labels for their newly planted containers.</p>
                            <p><strong>Evaluate (5 mins):</strong> Observational assessment of students' planting techniques and ability to follow safety guidelines. Use a simple checklist.</p>
                        </div>
                    </div>
                </div>
                 <div id="day6" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 6: Keeping Our Garden Healthy</h3>
                         <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Identify common garden pests and diseases and discuss organic solutions.</div>
                            <div><strong>Vocabulary:</strong> Pest, Disease, Organic, Fertilizer, Pollination.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (10 mins):</strong> Show images of common garden problems (e.g., aphids on a leaf, powdery mildew). Ask students to be "plant detectives" and diagnose the issue.</p>
                            <p><strong>Explore (20 mins):</strong> Students research a specific local pest or plant disease in small groups (using tablets or provided info sheets). They must find out what it is and one organic way to manage it (e.g., soapy water spray for aphids, neem oil).</p>
                            <p><strong>Explain (15 mins):</strong> Groups share their findings. The teacher explains the difference between chemical and organic treatments and the importance of pollinators like bees.</p>
                            <p><strong>Elaborate (10 mins):</strong> Students start creating a Weekly Maintenance Checklist (see Resources) for their garden, including "Check for pests" as a task.</p>
                            <p><strong>Evaluate (5 mins):</strong> Review group findings for accuracy and understanding of organic pest management.</p>
                        </div>
                    </div>
                </div>
                 <div id="day7" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 7: Garden Maintenance</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Practice routine garden care tasks.</div>
                            <div><strong>Vocabulary:</strong> Maintenance, Weeding, Watering, Pruning, Harvest.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (5 mins):</strong> Review the Maintenance Checklists created on Day 6.</p>
                            <p><strong>Explore (30 mins):</strong> Students perform their first official garden maintenance. They use their checklists to water plants, remove any small weeds, and check for signs of pests or growth. They record observations in their Planting Log (see Resources).</p>
                            <p><strong>Explain (15 mins):</strong> Class discussion about their observations. "Did anyone's soil feel very dry? Did you see any new sprouts?" The teacher provides feedback and guidance on proper watering techniques (e.g., water the soil, not the leaves).</p>
                            <p><strong>Elaborate (5 mins):</strong> Students update their Planting Logs with detailed notes and drawings.</p>
                            <p><strong>Evaluate (5 mins):</strong> Review Planting Logs for detailed observations. Observe students' ability to perform maintenance tasks responsibly.</p>
                        </div>
                    </div>
                </div>
                <div id="day8" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 8: Sharing Our Progress</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Present group garden plans and progress to the class.</div>
                            <div><strong>Vocabulary:</strong> Presentation, Collaboration, Feedback, Progress, Data.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (5 mins):</strong> Explain the importance of sharing work and giving constructive feedback. Review norms for being a good presenter and a respectful audience member.</p>
                            <p><strong>Explore (15 mins):</strong> Groups prepare for their short, informal presentations. They should be ready to share their garden plan, what they planted, their budget, and any observations so far.</p>
                            <p><strong>Explain (25 mins):</strong> Each group gives a 3-5 minute presentation. The audience is encouraged to ask questions. This is a great Language Arts cross-curricular link.</p>
                            <p><strong>Elaborate (10 mins):</strong> After all presentations, students write a reflection on one thing they learned from another group's presentation.</p>
                            <p><strong>Evaluate (5 mins):</strong> Teacher and peers provide feedback using the Oral Presentation and Group Collaboration Rubrics (see Resources).</p>
                        </div>
                    </div>
                </div>
                <div id="day9" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 9: Careers in Agriculture</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Explore potential careers related to agriculture and technology in Jamaica.</div>
                            <div><strong>Vocabulary:</strong> Agronomist, Technician, Urban Farming, RADA, Entrepreneur.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (10 mins):</strong> Ask students: "What jobs involve working with plants?" Brainstorm a list on the board.</p>
                            <p><strong>Explore (20 mins):</strong> Students interact with the Career Pathways Chart (see Resources). In pairs, they choose one career to learn more about and list three skills they think would be important for that job.</p>
                            <p><strong>Explain (15 mins):</strong> Discuss the different careers, emphasizing modern and technology-driven roles in Jamaican agriculture. Explain the role of organizations like the Rural Agricultural Development Authority (RADA) in supporting farmers.</p>
                            <p><strong>Elaborate (10 mins):</strong> Journal prompt: "If you could invent a new job to help plants or farming, what would it be? What would you call it?"</p>
                            <p><strong>Evaluate (5 mins):</strong> Review student responses to the journal prompt to gauge their understanding of the diverse roles within agriculture.</p>
                        </div>
                    </div>
                </div>
                <div id="day10" class="day-content">
                    <div class="bg-white p-6 rounded-lg shadow-md relative">
                        <div class="absolute top-4 right-4 no-print">
                            <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
                        </div>
                        <h3 class="text-xl font-bold text-[#4CAF50] mb-4">Day 10: Garden Showcase!</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div><strong>Objective:</strong> Present the finished container gardens and reflect on the entire project.</div>
                            <div><strong>Vocabulary:</strong> Showcase, Achievement, Reflection, Growth, Community.</div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-4">
                            <p><strong>Engage (20 mins):</strong> "Garden Walk". Students tour each other's gardens, leaving positive comments on sticky notes. If possible, invite another class or parents to the showcase.</p>
                            <p><strong>Explore (15 mins):</strong> Students complete the "L" section of their K-W-L charts from Day 1. They also fill out a final self-assessment on their collaboration skills.</p>
                            <p><strong>Explain (10 mins):</strong> Class discussion reflecting on the project. "What was the biggest challenge? What are you most proud of? What will you do with your plants now?"</p>
                            <p><strong>Elaborate (10 mins):</strong> Students write their final entry in their Reflection Journal, summarizing their entire experience. Teacher distributes Certificates of Completion.</p>
                            <p><strong>Evaluate (5 mins):</strong> Final collection of Reflection Journals and Planting Logs for assessment using the Written Work Rubric. The final garden product itself is a key assessment artifact.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Resources Section -->
            <section id="resources" class="content-section">
                <div class="bg-white p-6 rounded-lg shadow-md">
                     <h2 class="text-2xl font-bold text-[#4CAF50] mb-4 text-center">Resource Library</h2>
                     <p class="text-center text-gray-600 mb-8">Click on a resource to view its contents. These are designed to be printable and editable for your classroom needs.</p>
                     <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">

                        <!-- Column 1: Worksheets & Handouts -->
                        <div class="space-y-4">
                            <h3 class="font-bold text-lg text-[#2E7D32] border-b-2 pb-2">Worksheets & Handouts</h3>
                            <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-safety">Safety Guide</button>
                            <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-propagation">Propagation Methods Chart</button>
                            <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-soil">Soil Comparison Table</button>
                            <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-careers">Career Pathways Chart</button>
                            <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-vocab">Vocabulary Builder</button>
                             <button class="resource-btn w-full text-left bg-green-200 hover:bg-green-300 p-3 rounded-lg font-semibold" data-modal="modal-ask-farmer">✨ Ask a Farmer</button>
                             <button class="resource-btn w-full text-left bg-green-200 hover:bg-green-300 p-3 rounded-lg font-semibold" data-modal="modal-pest-diagnoser">✨ Garden Pest Diagnoser</button>
                        </div>

                        <!-- Column 2: Templates & Logs -->
                        <div class="space-y-4">
                             <h3 class="font-bold text-lg text-[#2E7D32] border-b-2 pb-2">Templates & Logs</h3>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-layout">Garden Layout Grid</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-budget">Interactive Budget Planner</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-checklist-week1">Maintenance Checklist (Week 1)</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-checklist-week2">Maintenance Checklist (Week 2)</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-log">Planting Log & Drawing Tool</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-journal">Student Reflection Journal Prompts</button>
                        </div>

                        <!-- Column 3: Assessment & Parent Engagement -->
                        <div class="space-y-4">
                             <h3 class="font-bold text-lg text-[#2E7D32] border-b-2 pb-2">Assessment, Parents & Settings</h3>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-rubric-design">Rubric: Garden Design</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-rubric-oral">Rubric: Oral Presentation</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-rubric-group">Rubric: Group Collaboration</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-letter">Editable Parent Letter</button>
                             <button class="resource-btn w-full text-left bg-gray-100 hover:bg-gray-200 p-3 rounded-lg" data-modal="modal-cert">Certificate of Completion</button>
                             <button class="resource-btn w-full text-left bg-blue-100 hover:bg-blue-200 p-3 rounded-lg font-semibold" data-modal="modal-api-settings">⚙️ API Settings</button>
                        </div>
                     </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals for Resources -->
    <div id="modal-safety" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Garden Safety Guide</h2>
            <ul class="list-disc list-inside space-y-2">
                <li><strong>Wash Hands:</strong> Always wash your hands before and after working in the garden.</li>
                <li><strong>Handle Tools with Care:</strong> Carry tools with the sharp end pointing down. Never run with tools.</li>
                <li><strong>Ask for Help:</strong> If you need to cut something or poke holes in a container, ask a teacher for help.</li>
                <li><strong>Wear Protection:</strong> Consider wearing gloves to keep hands clean.</li>
                <li><strong>Be Mindful of Nature:</strong> Watch out for insects. If you see something you don't recognize, tell a teacher. Don't eat anything from the garden unless a teacher says it is safe.</li>
            </ul>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>

     <div id="modal-budget" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Interactive Budget Planner</h2>
            <p class="mb-4">Enter your items, quantities, and costs. The totals will update automatically.</p>
            <table class="w-full text-left" id="budget-table">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="p-2">Item</th>
                        <th class="p-2">Quantity</th>
                        <th class="p-2">Price per Item ($)</th>
                        <th class="p-2">Total ($)</th>
                        <th class="p-2 no-print"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="p-2"><input type="text" placeholder="e.g., Bag of Soil" class="w-full p-1 border rounded"></td>
                        <td class="p-2"><input type="number" value="1" min="0" class="w-full p-1 border rounded budget-qty"></td>
                        <td class="p-2"><input type="number" placeholder="e.g., 500" step="0.01" class="w-full p-1 border rounded budget-price"></td>
                        <td class="p-2 font-bold budget-total">0.00</td>
                        <td class="p-2 text-center no-print"><button class="remove-budget-row text-red-500 font-bold">X</button></td>
                    </tr>
                    <tr>
                        <td class="p-2"><input type="text" placeholder="e.g., Seed Packet" class="w-full p-1 border rounded"></td>
                        <td class="p-2"><input type="number" value="1" min="0" class="w-full p-1 border rounded budget-qty"></td>
                        <td class="p-2"><input type="number" placeholder="e.g., 150" step="0.01" class="w-full p-1 border rounded budget-price"></td>
                        <td class="p-2 font-bold budget-total">0.00</td>
                        <td class="p-2 text-center no-print"><button class="remove-budget-row text-red-500 font-bold">X</button></td>
                    </tr>
                </tbody>
            </table>
            <div class="flex justify-between items-center mt-4">
                <button id="add-budget-row" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded no-print">Add Item</button>
                <div class="text-right">
                    <h3 class="text-xl font-bold">Grand Total: $<span id="grand-total">0.00</span></h3>
                </div>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
     <div id="modal-careers" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4 text-center">Careers in Modern Agriculture</h2>
            <div class="text-center p-4 bg-green-100 rounded-lg">
                <h3 class="font-bold">Core Skills</h3>
                <p>Observation, Problem-Solving, Collaboration, Technology Use</p>
            </div>
            <div class="text-center text-3xl my-2">↓</div>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-center">
                 <div class="career-card bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200">
                     <h4 class="font-bold">Urban Farmer</h4>
                     <p class="career-desc hidden text-sm">Grows food in cities, often using vertical farming or rooftop gardens.</p>
                 </div>
                 <div class="career-card bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200">
                     <h4 class="font-bold">Greenhouse Technician</h4>
                     <p class="career-desc hidden text-sm">Manages the technology (lighting, irrigation, temperature) in a greenhouse.</p>
                 </div>
                 <div class="career-card bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200">
                     <h4 class="font-bold">RADA Extension Officer</h4>
                     <p class="career-desc hidden text-sm">Works with farmers in the community to share new techniques and solve problems.</p>
                 </div>
                 <div class="career-card bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200">
                     <h4 class="font-bold">Soil Scientist</h4>
                     <p class="career-desc hidden text-sm">Studies soil to help farmers improve crop health and yield.</p>
                 </div>
                 <div class="career-card bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200">
                     <h4 class="font-bold">Food Entrepreneur</h4>
                     <p class="career-desc hidden text-sm">Creates and sells products from locally grown food, like pepper sauce or jams.</p>
                 </div>
                 <div class="career-card bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200">
                     <h4 class="font-bold">Agricultural Drone Pilot</h4>
                     <p class="career-desc hidden text-sm">Uses drones to monitor crop health, spray nutrients, and survey fields.</p>
                 </div>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-propagation" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Propagation Methods Chart</h2>
            <table class="w-full border-collapse">
                <thead>
                    <tr class="bg-gray-100"><th class="border p-2">Method</th><th class="border p-2">Description</th><th class="border p-2">Examples</th></tr>
                </thead>
                <tbody>
                    <tr><td class="border p-2 font-semibold">Seeds</td><td class="border p-2">Planting the seed of a plant to grow a new one.</td><td class="border p-2">Scotch Bonnet Pepper, Tomato, Callaloo, Pak Choi</td></tr>
                    <tr><td class="border p-2 font-semibold">Cuttings</td><td class="border p-2">Cutting a piece of stem or leaf and planting it to grow roots.</td><td class="border p-2">Mint, Thyme, Rosemary, Cassava</td></tr>
                    <tr><td class="border p-2 font-semibold">Runners/Suckers</td><td class="border p-2">New plants that grow off the main plant's base or stems.</td><td class="border p-2">Pineapple, Strawberry, Spider Plant</td></tr>
                </tbody>
            </table>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-soil" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Soil Comparison Table</h2>
            <p class="mb-4 text-gray-600">Different types of soil have different properties. For our container gardens, we want a mix that holds water but also lets the roots breathe!</p>
            <div class="overflow-x-auto">
                <table class="w-full border-collapse text-sm md:text-base">
                    <thead>
                        <tr class="bg-gray-100">
                            <th class="border p-2 text-left">Soil Type</th>
                            <th class="border p-2 text-left">Feels Like (Texture)</th>
                            <th class="border p-2 text-left">Water Drainage</th>
                            <th class="border p-2 text-left">Best for Container Gardens?</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border p-2 font-semibold">Sandy Soil</td>
                            <td class="border p-2">Gritty and rough. Doesn't stick together.</td>
                            <td class="border p-2">Very Fast. Water runs right through, taking nutrients with it.</td>
                            <td class="border p-2">Not ideal alone. Needs to be mixed with compost to hold water and nutrients.</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-semibold">Clay Soil</td>
                            <td class="border p-2">Sticky and smooth when wet, hard when dry.</td>
                            <td class="border p-2">Very Slow. Can hold too much water and drown plant roots.</td>
                            <td class="border p-2">Not good alone. It's too heavy and doesn't let roots breathe.</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-semibold">Loam</td>
                            <td class="border p-2">Soft, crumbly, and a little moist. A mix of sand, clay, and silt.</td>
                            <td class="border p-2">Excellent. Holds moisture but lets excess water drain away.</td>
                            <td class="border p-2">Very good! This is what's found in healthy natural gardens.</td>
                        </tr>
                        <tr class="bg-green-50">
                            <td class="border p-2 font-semibold">Potting Mix / Compost</td>
                            <td class="border p-2">Light, spongy, and dark-colored.</td>
                            <td class="border p-2">Perfect. Designed to hold the right amount of water for pots.</td>
                            <td class="border p-2"><strong>Yes! This is the best choice.</strong> It's specially made for containers and is full of nutrients.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>

    <div id="modal-letter" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Parent/Guardian Engagement Letter</h2>
            <div class="border p-4 bg-gray-50 rounded">
                <p>Date: [Insert Date]</p><br>
                <p>Dear Parent/Guardian,</p><br>
                <p>Our Grade 5 class is excited to announce that we are launching a hands-on project: "How to Establish and Maintain a Basic Container Garden!" Over the next ten weeks, students will be working collaboratively to design, plant, and care for their own small gardens at school. This project is a fantastic opportunity for students to apply concepts from Science, Math, and Language Arts in a practical and engaging way, aligned with the national curriculum's focus on Agriculture for Sustainable Development.</p><br>
                <p><strong>How can you help?</strong> We encourage you to talk with your child about their garden. You could also help by providing clean, recycled containers like 4-litre plastic bottles or large 5-gallon buckets (with adult supervision for safety). We may also be looking for a few parent volunteers to help on our main planting day, [Insert Day 5 Date].</p><br>
                <p>We are excited to see our students grow as gardeners and learners!</p><br>
                <p>Sincerely,</p>
                <p>[Your Name], Grade 5 Teacher</p>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-journal" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Student Reflection Journal Prompts</h2>
            <ul class="list-disc list-inside space-y-3">
                <li><strong>Day 1:</strong> What am I most excited to grow or learn in our garden project? Why?</li>
                <li><strong>Day 2:</strong> Sketch a "happy plant" and label all the things it needs to grow strong.</li>
                <li><strong>Day 3:</strong> Brainstorm and sketch three different upcycled container ideas for your garden.</li>
                <li><strong>Day 9:</strong> If you could invent a new job to help plants or farming, what would it be?</li>
                <li><strong>Day 10:</strong> What was the biggest challenge in this project? What are you most proud of?</li>
            </ul>
            <hr class="my-6">
            <h3 class="text-xl font-semibold mb-2 text-green-700">Creative Writing Corner</h3>
            <p class="text-gray-600 mb-4">Stuck for an idea? Click the button to get a magical story starter!</p>
            <button id="generate-story-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">✨ Generate a Garden Story Idea</button>
            <div id="story-loader" class="loader"></div>
            <div id="story-output" class="mt-4 p-4 bg-green-50 rounded-lg min-h-[50px]"></div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
     <div id="modal-layout" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Garden Layout Grid & Visualizer</h2>
            <p class="mb-4">Use the grid below to plan where your plants will go. Think about how much sun each spot gets!</p>
            <div class="grid grid-cols-4 gap-2 border-2 border-gray-400 p-2 bg-yellow-50 max-w-md mx-auto">
                <div class="border border-dashed border-gray-400 h-24"></div>
                <div class="border border-dashed border-gray-400 h-24"></div>
                <div class="border border-dashed border-gray-400 h-24"></div>
                <div class="border border-dashed border-gray-400 h-24"></div>
                <div class="border border-dashed border-gray-400 h-24"></div>
                <div class="border border-dashed border-gray-400 h-24"></div>
                <div class="border border-dashed border-gray-400 h-24"></div>
                <div class="border border-dashed border-gray-400 h-24"></div>
            </div>
             <hr class="my-6">
            <h3 class="text-xl font-semibold mb-2 text-green-700">Plant Visualizer</h3>
            <p class="text-gray-600 mb-2">Type the name of a plant to create an artistic image of it!</p>
            <div class="flex gap-2">
                <input type="text" id="plant-visualizer-input" placeholder="e.g., Scotch Bonnet Pepper" class="w-full p-2 border rounded">
                <button id="visualize-plant-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded whitespace-nowrap">✨ Visualize Plant</button>
            </div>
            <div id="visualizer-loader" class="loader"></div>
            <div id="visualizer-output" class="mt-4 text-center">
                 <img id="plant-image" src="https://placehold.co/512x512/f5f5f5/888888?text=Your+Plant+Image" alt="Generated image of a plant" class="rounded-lg shadow-md max-w-sm mx-auto"/>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>

    <div id="modal-vocab" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-2">Vocabulary Builder</h2>
            <p class="text-gray-600 mb-4">Use the search bar to find a word quickly, or click the speaker to hear it read aloud!</p>
            <input type="text" id="vocab-search" placeholder="Search for a word..." class="w-full p-2 border rounded mb-4 no-print">
            <div class="h-[50vh] overflow-y-auto">
                <table class="w-full text-left" id="vocab-table">
                    <thead class="bg-gray-100 sticky top-0">
                        <tr>
                            <th class="p-2 font-semibold">Term</th>
                            <th class="p-2 font-semibold">Simple Definition</th>
                            <th class="p-2 font-semibold text-center no-print">Audio</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td class="border p-2 font-bold">Aeration</td><td class="border p-2">Making sure there are small pockets of air in the soil so roots can breathe.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Budget</td><td class="border p-2">A plan for how much money you can spend on your garden supplies.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Compost</td><td class="border p-2">A mix of natural materials like leaves and food scraps that turns into healthy food for plants.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Container</td><td class="border p-2">Anything that can hold soil for a plant to grow in, like a pot, a bag, or a bottle.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Cutting</td><td class="border p-2">A piece of a plant, like a stem, that can be planted to grow a new plant.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Drainage</td><td class="border p-2">How water flows out of the soil. Good drainage means the plant's roots don't get too wet.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Fertilizer</td><td class="border p-2">Plant food that gives extra nutrients to the soil to help plants grow strong.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Germination</td><td class="border p-2">When a seed starts to sprout and grow into a tiny plant.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Harvest</td><td class="border p-2">The time when you get to pick and eat the vegetables or fruits you have grown.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Layout</td><td class="border p-2">The design or plan for where you will place your plants and containers.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Maintenance</td><td class="border p-2">The regular jobs you do to take care of your garden, like watering and checking for pests.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Nutrients</td><td class="border p-2">The vitamins and minerals in the soil that plants eat to grow.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Organic</td><td class="border p-2">A way of gardening that doesn't use man-made chemicals, only natural things.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Pest</td><td class="border p-2">Any insect or animal that tries to harm or eat your plants.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Potting Mix</td><td class="border p-2">Special soil made just for container gardens. It's light and full of nutrients.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Propagation</td><td class="border p-2">The way we make new plants from old ones, either by using seeds or parts of the plant.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Seedling</td><td class="border p-2">A very young plant that has just sprouted from a seed.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Sustainable</td><td class="border p-2">Using resources in a way that is not harmful to the environment and can be continued for a long time.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Transplant</td><td class="border p-2">To carefully move a small plant from one pot or place to another.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                        <tr><td class="border p-2 font-bold">Upcycle</td><td class="border p-2">To take something old and turn it into something new and useful, like using a plastic bottle as a plant pot.</td><td class="border p-2 text-center no-print"><button class="play-vocab-btn">🔊</button></td></tr>
                    </tbody>
                </table>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>

    <div id="modal-ask-farmer" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">✨ Ask Farmer Joe</h2>
            <p class="text-gray-600 mb-4">Have a question about your garden? Ask our friendly AI farmer!</p>
            <div class="flex gap-2">
                 <input type="text" id="ask-farmer-input" placeholder="e.g., Why are my tomato leaves turning yellow?" class="w-full p-2 border rounded">
                <button id="ask-farmer-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">Ask</button>
            </div>
            <div id="farmer-loader" class="loader"></div>
            <div id="farmer-output" class="mt-4 p-4 bg-green-50 rounded-lg min-h-[100px] whitespace-pre-wrap"></div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-pest-diagnoser" class="modal">
        <div class="modal-content">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
             <h2 class="text-2xl font-bold mb-4">✨ Garden Pest Diagnoser</h2>
             <p class="text-gray-600 mb-4">Have a sick plant? Upload a photo of the leaf, and our AI will try to diagnose the problem and suggest organic solutions.</p>
             <div class="grid md:grid-cols-2 gap-6 items-start">
                 <div>
                     <label for="pest-image-upload" class="block mb-2 font-semibold text-gray-700">1. Upload an image of the plant leaf:</label>
                     <input type="file" id="pest-image-upload" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"/>
                     <div class="mt-4 border-2 border-dashed rounded-lg p-2 text-center h-48 flex items-center justify-center">
                         <img id="pest-image-preview" src="https://placehold.co/300x200/f5f5f5/888888?text=Image+Preview" alt="Preview of uploaded plant image" class="max-h-full max-w-full"/>
                     </div>
                     <button id="diagnose-btn" class="mt-4 w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">2. Diagnose My Plant!</button>
                 </div>
                 <div>
                    <label class="block mb-2 font-semibold text-gray-700">AI Diagnosis:</label>
                    <div id="diagnose-loader" class="loader"></div>
                    <div id="diagnose-output" class="mt-2 p-4 bg-green-50 rounded-lg min-h-[280px] whitespace-pre-wrap"></div>
                 </div>
             </div>
             <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-checklist-week1" class="modal">
        <div class="modal-content">
            <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Week 1 Maintenance Checklist (Planning & Planting)</h2>
            <p class="mb-4 text-gray-600">Focus on getting your garden set up perfectly this week. Check off each task as your group completes it.</p>
            <div class="overflow-x-auto">
                <table class="w-full border-collapse">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border p-2 text-left">Task (Days 1-5)</th>
                            <th class="border p-2 text-center">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Finalize Group Garden Plan & Budget</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Prepare and Label Containers (add drainage)</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Mix Soil and Fill Containers</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Plant Seeds/Seedlings According to Plan</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Gentle First Watering for New Plants</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                    </tbody>
                </table>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-checklist-week2" class="modal">
        <div class="modal-content">
            <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Week 2 Maintenance Checklist (Growth & Observation)</h2>
            <p class="mb-4 text-gray-600">Now it's time to care for your plants and watch them grow! Check off your daily tasks.</p>
            <div class="overflow-x-auto">
                <table class="w-full border-collapse">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border p-2 text-left">Task (Days 6-10)</th>
                            <th class="border p-2 text-center">Mon</th><th class="border p-2 text-center">Tue</th><th class="border p-2 text-center">Wed</th><th class="border p-2 text-center">Thu</th><th class="border p-2 text-center">Fri</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Water the soil (if dry)</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Check leaves for pests</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Remove any weeds</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                        <tr class="hover:bg-gray-50"><td class="border p-2 font-semibold">Record observations in Planting Log</td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td><td class="border p-2 text-center"><input type="checkbox" class="h-5 w-5"></td></tr>
                    </tbody>
                </table>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>

    <div id="modal-log" class="modal">
        <div class="modal-content">
            <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">My Planting Log & Drawing Tool</h2>
            <p class="mb-4 text-gray-600">Track your plant's growth! Fill in the details and create a sketch of your plant in the box below.</p>
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Log Entry Side -->
                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="font-semibold block mb-1">Plant Name:</label>
                            <input type="text" placeholder="e.g., Tomato" class="w-full p-2 border rounded">
                        </div>
                        <div>
                            <label class="font-semibold block mb-1">Date:</label>
                            <input type="date" class="w-full p-2 border rounded">
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold block mb-1">Height (cm):</label>
                        <input type="number" placeholder="e.g., 5" class="w-full p-2 border rounded">
                    </div>
                    <div>
                        <label class="font-semibold block mb-1">My Observations:</label>
                        <textarea placeholder="What do you see today? New leaves, changes in color, etc." rows="5" class="w-full p-2 border rounded"></textarea>
                    </div>
                </div>
                <!-- Drawing Canvas Side -->
                <div>
                    <label class="font-semibold block mb-1">My Plant Sketch:</label>
                    <canvas id="plant-canvas" width="350" height="250"></canvas>
                    <div class="flex justify-between items-center mt-2 no-print">
                        <div>
                             <label for="pen-color" class="text-sm">Color:</label>
                             <input type="color" id="pen-color" value="#2E7D32">
                             <label for="pen-width" class="text-sm ml-2">Size:</label>
                             <input type="range" id="pen-width" min="1" max="10" value="2">
                        </div>
                        <button id="clear-canvas-btn" class="bg-gray-500 hover:bg-gray-600 text-white text-sm py-1 px-3 rounded">Clear</button>
                    </div>
                </div>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-rubric-design" class="modal">
        <div class="modal-content">
            <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Rubric: Garden Design & Plan</h2>
            <p class="mb-4 text-gray-600">This rubric assesses the quality of the group's garden plan, layout, and budget.</p>
            <div class="overflow-x-auto text-sm">
                <table class="w-full border-collapse">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border p-2 text-left">Criteria</th>
                            <th class="border p-2 text-left">Excellent (4)</th>
                            <th class="border p-2 text-left">Good (3)</th>
                            <th class="border p-2 text-left">Satisfactory (2)</th>
                            <th class="border p-2 text-left">Needs Improvement (1)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Layout & Spacing</td>
                            <td class="border p-2">Plan shows excellent use of space, considering each plant's needs for sun and growth. Creative and practical.</td>
                            <td class="border p-2">Plan shows good use of space with adequate spacing for most plants.</td>
                            <td class="border p-2">Plan shows some thought to spacing, but some plants may be overcrowded.</td>
                            <td class="border p-2">Plan is unclear or does not consider plant spacing needs.</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Plant Selection</td>
                            <td class="border p-2">A diverse and appropriate selection of local plants suitable for container gardening is chosen.</td>
                            <td class="border p-2">A good selection of suitable plants is chosen.</td>
                            <td class="border p-2">Most plants chosen are suitable, but some may not be ideal for containers.</td>
                            <td class="border p-2">Plants chosen are not suitable for container gardening.</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Budgeting</td>
                            <td class="border p-2">Budget is complete, accurate, realistic, and all calculations are correct.</td>
                            <td class="border p-2">Budget is mostly complete and realistic, with minor calculation errors.</td>
                            <td class="border p-2">Budget is incomplete or has significant calculation errors.</td>
                            <td class="border p-2">Budget is missing or does not make sense.</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Clarity & Neatness</td>
                            <td class="border p-2">The plan is exceptionally neat, clearly labeled, and very easy to understand.</td>
                            <td class="border p-2">The plan is neat and easy to understand.</td>
                            <td class="border p-2">The plan is somewhat messy or difficult to understand.</td>
                            <td class="border p-2">The plan is very messy and unclear.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    <div id="modal-rubric-oral" class="modal">
        <div class="modal-content">
            <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Rubric: Oral Presentation</h2>
            <p class="mb-4 text-gray-600">This rubric assesses the clarity, content, and delivery of the group's presentation on Day 8.</p>
            <div class="overflow-x-auto text-sm">
                <table class="w-full border-collapse">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border p-2 text-left">Criteria</th>
                            <th class="border p-2 text-left">Excellent (4)</th>
                            <th class="border p-2 text-left">Good (3)</th>
                            <th class="border p-2 text-left">Satisfactory (2)</th>
                            <th class="border p-2 text-left">Needs Improvement (1)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Clarity & Volume</td>
                            <td class="border p-2">All speakers speak clearly, loudly, and at a good pace. The audience can easily understand everything.</td>
                            <td class="border p-2">Most speakers are clear and audible. Some parts may be a bit fast or quiet.</td>
                            <td class="border p-2">Speakers are often hard to hear or understand. Mumbling or speaking too quickly.</td>
                            <td class="border p-2">Audience cannot understand what is being said.</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Content & Understanding</td>
                            <td class="border p-2">The group clearly explains their plan, budget, and observations, showing a deep understanding of the project.</td>
                            <td class="border p-2">The group explains their plan and progress well. They show a good understanding.</td>
                            <td class="border p-2">The group shares some information but struggles to explain their plan or what they have learned.</td>
                            <td class="border p-2">The presentation is missing key information or shows little understanding.</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Audience Engagement</td>
                            <td class="border p-2">All members make eye contact, use enthusiastic tone, and engage the audience effectively.</td>
                            <td class="border p-2">Most members make eye contact. The presentation holds the audience's attention.</td>
                            <td class="border p-2">Little eye contact is made. Speakers mostly read from their notes.</td>
                            <td class="border p-2">No eye contact. The presentation is read in a monotone voice.</td>
                        </tr>
                         <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Group Participation</td>
                            <td class="border p-2">Every member has a clear speaking role and contributes equally to the presentation.</td>
                            <td class="border p-2">Almost all members participate in the speaking roles.</td>
                            <td class="border p-2">One or two members dominate the presentation, while others say very little.</td>
                            <td class="border p-2">Only one person speaks for the group.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    <div id="modal-rubric-group" class="modal">
         <div class="modal-content">
            <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-2xl font-bold mb-4">Rubric: Group Collaboration</h2>
            <p class="mb-4 text-gray-600">This rubric assesses how well group members worked together throughout the 10-day project.</p>
            <div class="overflow-x-auto text-sm">
                <table class="w-full border-collapse">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border p-2 text-left">Criteria</th>
                            <th class="border p-2 text-left">Excellent (4)</th>
                            <th class="border p-2 text-left">Good (3)</th>
                            <th class="border p-2 text-left">Satisfactory (2)</th>
                            <th class="border p-2 text-left">Needs Improvement (1)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Contribution</td>
                            <td class="border p-2">All members actively contributed ideas and effort to all parts of the project.</td>
                            <td class="border p-2">Most members contributed ideas and effort.</td>
                            <td class="border p-2">Some members contributed more than others.</td>
                            <td class="border p-2">One person did most of the work.</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Respect & Communication</td>
                            <td class="border p-2">Group members consistently listened to and valued each other's opinions, even when they disagreed.</td>
                            <td class="border p-2">Members usually listened to each other. Communication was mostly respectful.</td>
                            <td class="border p-2">Members sometimes interrupted or ignored others' ideas.</td>
                            <td class="border p-2">Communication was poor or disrespectful.</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Responsibility & Focus</td>
                            <td class="border p-2">The group stayed on task, managed their time well, and all members completed their assigned jobs.</td>
                            <td class="border p-2">The group was on task most of the time. Most jobs were completed as assigned.</td>
                            <td class="border p-2">The group needed several reminders to stay on task. Some jobs were not completed.</td>
                            <td class="border p-2">The group was often off-task and did not complete their work.</td>
                        </tr>
                         <tr class="hover:bg-gray-50">
                            <td class="border p-2 font-semibold">Problem-Solving</td>
                            <td class="border p-2">When faced with a challenge, the group worked together creatively to find a solution.</td>
                            <td class="border p-2">The group was able to solve problems together with some guidance.</td>
                            <td class="border p-2">The group struggled to solve problems and often argued or gave up.</td>
                            <td class="border p-2">The group did not solve problems and required constant teacher intervention.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    <div id="modal-cert" class="modal">
        <div class="modal-content text-center bg-yellow-50 border-4 border-yellow-300 relative">
             <div class="absolute top-4 right-4 no-print">
                <button class="print-btn text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full flex items-center gap-2">🖨️ Print / Save</button>
            </div>
            <h2 class="text-3xl font-bold text-yellow-800">Certificate of Completion</h2>
            <p class="mt-4 text-lg">This certifies that</p>
            <p class="font-bold text-2xl my-4 border-b-2 border-dotted border-gray-400">[Student Name]</p>
            <p class="text-lg">has successfully completed the Grade 5 Container Gardening Project.</p>
            <div class="flex justify-between mt-8 text-sm">
                <p class="border-t-2 border-gray-400 pt-1">Teacher's Signature</p>
                <p class="border-t-2 border-gray-400 pt-1">Date</p>
            </div>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
     <div id="modal-api-settings" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">⚙️ API Key Settings</h2>
            <p class="text-gray-600 mb-4">To use the AI features (Ask a Farmer, Pest Diagnoser, etc.) on your own website, you need a free API key from Google AI Studio. Paste your key below.</p>
            <p class="mb-4 text-sm">
                <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-blue-600 hover:underline font-semibold">Click here to get your free Gemini API Key from Google AI Studio &rarr;</a>
            </p>
            <div>
                <label for="api-key-input" class="block mb-2 font-semibold text-gray-700">Your Gemini API Key:</label>
                <input type="password" id="api-key-input" placeholder="Paste your API key here" class="w-full p-2 border rounded">
            </div>
            <div class="mt-4 flex gap-4">
                 <button id="save-api-key" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">Save Key</button>
                 <button id="clear-api-key" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded">Clear Key</button>
            </div>
             <p id="api-key-status" class="mt-2 text-sm text-green-700"></p>
            <button class="close-modal mt-6 bg-red-500 text-white px-4 py-2 rounded no-print">Close</button>
        </div>
    </div>
    
    <div id="modal-alert" class="modal">
        <div class="modal-content max-w-sm text-center">
            <p id="alert-message" class="text-lg"></p>
            <button class="close-modal mt-6 bg-blue-500 text-white px-6 py-2 rounded">OK</button>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- Initial Setup & Variables ---
    const tabs = document.querySelectorAll('.tab-btn');
    const sections = document.querySelectorAll('.content-section');
    const dayTabs = document.querySelectorAll('.day-btn');
    const dayContents = document.querySelectorAll('.day-content');
    const resourceBtns = document.querySelectorAll('.resource-btn');
    const modals = document.querySelectorAll('.modal');
    const closeModalBtns = document.querySelectorAll('.close-modal');
    let apiKey = localStorage.getItem('geminiApiKey') || "";

    // --- Core Navigation & UI ---
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            sections.forEach(s => s.classList.remove('active'));
            document.getElementById(tab.dataset.tab).classList.add('active');
        });
    });

    dayTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            dayTabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            dayContents.forEach(c => c.classList.remove('active'));
            document.getElementById(tab.dataset.day).classList.add('active');
        });
    });
    
    resourceBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const modal = document.getElementById(btn.dataset.modal);
            if (modal) {
                modal.classList.add('active');
                if (btn.dataset.modal === 'modal-log') setupCanvas();
                if(btn.dataset.modal === 'modal-api-settings') {
                    document.getElementById('api-key-input').value = apiKey;
                }
            }
        });
    });

    closeModalBtns.forEach(btn => {
        btn.addEventListener('click', (e) => e.target.closest('.modal').classList.remove('active'));
    });

    modals.forEach(modal => {
        modal.addEventListener('click', (e) => {
            if (e.target === modal) modal.classList.remove('active');
        });
    });
    
    function showAlert(message) {
        document.getElementById('alert-message').textContent = message;
        document.getElementById('modal-alert').classList.add('active');
    }

    // --- Print Functionality ---
    document.body.addEventListener('click', function(e) {
        const printButton = e.target.closest('.print-btn');
        if (printButton) {
            const printableArea = printButton.closest('.modal-content, .bg-white');
            if (printableArea) {
                document.body.classList.add('printing-active');
                printableArea.classList.add('printable-section');
                const parentModal = printableArea.closest('.modal');
                if (parentModal) parentModal.classList.add('printable-section');
                
                window.print();
                
                if (parentModal) parentModal.classList.remove('printable-section');
                printableArea.classList.remove('printable-section');
                document.body.classList.remove('printing-active');
            }
        }
    });

    // --- API Key Management ---
    const saveApiKeyBtn = document.getElementById('save-api-key');
    const clearApiKeyBtn = document.getElementById('clear-api-key');
    const apiKeyInput = document.getElementById('api-key-input');
    const apiKeyStatus = document.getElementById('api-key-status');

    if(saveApiKeyBtn) {
        saveApiKeyBtn.addEventListener('click', () => {
            const newKey = apiKeyInput.value.trim();
            if(newKey) {
                localStorage.setItem('geminiApiKey', newKey);
                apiKey = newKey;
                apiKeyStatus.textContent = 'API Key saved successfully!';
                setTimeout(() => apiKeyStatus.textContent = '', 3000);
            } else {
                 apiKeyStatus.textContent = 'Please enter a key.';
            }
        });
    }

    if(clearApiKeyBtn) {
        clearApiKeyBtn.addEventListener('click', () => {
            localStorage.removeItem('geminiApiKey');
            apiKey = "";
            apiKeyInput.value = "";
            apiKeyStatus.textContent = 'API Key cleared.';
            setTimeout(() => apiKeyStatus.textContent = '', 3000);
        });
    }

    // --- Chart & Tools ---
    new Chart(document.getElementById('cropsChart').getContext('2d'), {
        type: 'bar',
        data: {
            labels: ['Callaloo', 'Pak Choi', 'Scotch Bonnet', 'Tomato', 'Cucumber', 'Radish'],
            datasets: [{
                label: 'Weeks to Harvest',
                data: [4, 6, 12, 10, 8, 5],
                backgroundColor: ['rgba(76, 175, 80, 0.6)','rgba(139, 195, 74, 0.6)','rgba(255, 152, 0, 0.6)','rgba(244, 67, 54, 0.6)','rgba(102, 187, 106, 0.6)','rgba(239, 83, 80, 0.6)'],
                borderColor: ['rgba(76, 175, 80, 1)','rgba(139, 195, 74, 1)','rgba(255, 152, 0, 1)','rgba(244, 67, 54, 1)','rgba(102, 187, 106, 1)','rgba(239, 83, 80, 1)'],
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y', responsive: true, maintainAspectRatio: false,
            plugins: { legend: { display: false }, title: { display: false } },
            scales: { x: { beginAtZero: true, title: { display: true, text: 'Estimated Weeks' } } }
        }
    });

    const budgetTable = document.getElementById('budget-table');
    if (budgetTable) {
        const calculateBudget = () => {
            let grandTotal = 0;
            budgetTable.querySelectorAll('tbody tr').forEach(row => {
                const qty = parseFloat(row.querySelector('.budget-qty').value) || 0;
                const price = parseFloat(row.querySelector('.budget-price').value) || 0;
                const total = qty * price;
                row.querySelector('.budget-total').textContent = total.toFixed(2);
                grandTotal += total;
            });
            document.getElementById('grand-total').textContent = grandTotal.toFixed(2);
        };
        budgetTable.addEventListener('input', calculateBudget);
        budgetTable.addEventListener('click', e => {
            if (e.target.classList.contains('remove-budget-row')) {
                if (budgetTable.querySelectorAll('tbody tr').length > 1) {
                    e.target.closest('tr').remove();
                    calculateBudget();
                } else {
                    showAlert("You must have at least one item.");
                }
            }
        });
        document.getElementById('add-budget-row').addEventListener('click', () => {
            const newRow = `<tr><td class="p-2"><input type="text" placeholder="New Item" class="w-full p-1 border rounded"></td><td class="p-2"><input type="number" value="1" min="0" class="w-full p-1 border rounded budget-qty"></td><td class="p-2"><input type="number" placeholder="0.00" step="0.01" class="w-full p-1 border rounded budget-price"></td><td class="p-2 font-bold budget-total">0.00</td><td class="p-2 text-center no-print"><button class="remove-budget-row text-red-500 font-bold">X</button></td></tr>`;
            budgetTable.querySelector('tbody').insertAdjacentHTML('beforeend', newRow);
        });
        calculateBudget();
    }
    
    document.querySelectorAll('.career-card').forEach(c => c.addEventListener('click', () => c.querySelector('.career-desc').classList.toggle('hidden')));
    
    const vocabSearch = document.getElementById('vocab-search');
    if (vocabSearch) {
        vocabSearch.addEventListener('input', e => {
            const term = e.target.value.toLowerCase();
            document.querySelectorAll('#vocab-table tbody tr').forEach(row => {
                row.style.display = row.textContent.toLowerCase().includes(term) ? '' : 'none';
            });
        });
    }

    let canvas, ctxDraw, painting;
    function setupCanvas() { /* Drawing canvas logic */
        canvas = document.getElementById('plant-canvas');
        if (!canvas || canvas.dataset.initialized) return;
        ctxDraw = canvas.getContext('2d');
        const penColorEl = document.getElementById('pen-color');
        const penWidthEl = document.getElementById('pen-width');
        const clearBtn = document.getElementById('clear-canvas-btn');
        painting = false;
        const draw = e => {
            if (!painting) return;
            e.preventDefault();
            ctxDraw.lineWidth = penWidthEl.value;
            ctxDraw.lineCap = 'round';
            ctxDraw.strokeStyle = penColorEl.value;
            let rect = canvas.getBoundingClientRect();
            let x = (e.clientX || e.touches[0].clientX) - rect.left;
            let y = (e.clientY || e.touches[0].clientY) - rect.top;
            ctxDraw.lineTo(x, y);
            ctxDraw.stroke();
            ctxDraw.beginPath();
            ctxDraw.moveTo(x, y);
        };
        const start = e => { painting = true; draw(e); };
        const end = () => { painting = false; ctxDraw.beginPath(); };
        canvas.addEventListener('mousedown', start);
        canvas.addEventListener('mouseup', end);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('touchstart', start, { passive: false });
        canvas.addEventListener('touchend', end);
        canvas.addEventListener('touchmove', draw, { passive: false });
        clearBtn.addEventListener('click', () => ctxDraw.clearRect(0, 0, canvas.width, canvas.height));
        canvas.dataset.initialized = 'true';
    }

    // --- Gemini API Integration ---
    async function fetchWithBackoff(apiUrl, payload, method = 'POST') {
        if (!apiKey) {
            showAlert("Please set your Gemini API key in '⚙️ API Settings' under the Resources tab to use AI features.");
            return null;
        }
        let attempt = 0;
        const maxAttempts = 5;
        while (attempt < maxAttempts) {
            try {
                const response = await fetch(`${apiUrl}?key=${apiKey}`, {
                    method: method,
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                return await response.json();
            } catch (error) {
                attempt++;
                if (attempt >= maxAttempts) { console.error("Max retries reached.", error); return null; }
                await new Promise(res => setTimeout(res, Math.pow(2, attempt) * 100));
            }
        }
    }

    // Generic API button handler
    function setupApiButton(btnId, inputId, loaderId, outputId, preparePayload) {
        const btn = document.getElementById(btnId);
        if (btn) {
            btn.addEventListener('click', async () => {
                const loader = document.getElementById(loaderId);
                const output = document.getElementById(outputId);
                const payloadData = { btn, loader, output };
                if (inputId) payloadData.input = document.getElementById(inputId);
                
                const {apiUrl, payload, error} = await preparePayload(payloadData);
                if (error) { showAlert(error); return; }

                loader.style.display = 'block';
                output.textContent = '';
                
                const result = await fetchWithBackoff(apiUrl, payload);
                loader.style.display = 'none';

                if (result && result.candidates?.[0]?.content?.parts?.[0]?.text) {
                    output.textContent = result.candidates[0].content.parts[0].text;
                } else {
                    output.textContent = "Sorry, something went wrong. Please check your API key or try again.";
                    console.error("API Error:", result);
                }
            });
        }
    }

    setupApiButton('ask-farmer-btn', 'ask-farmer-input', 'farmer-loader', 'farmer-output', async ({ input }) => {
        const userQuery = input.value.trim();
        if (!userQuery) return { error: "Please type a question first!" };
        const systemPrompt = "You are a friendly and knowledgeable Jamaican farmer named Farmer Joe, explaining gardening to a 10-year-old. Keep answers simple, encouraging, and related to Jamaican container gardening. Start with 'Well, hello there! Farmer Joe here.'";
        return {
            apiUrl: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent',
            payload: { contents: [{ parts: [{ text: userQuery }] }], systemInstruction: { parts: [{ text: systemPrompt }] } }
        };
    });

    setupApiButton('generate-story-btn', null, 'story-loader', 'story-output', async () => {
        const systemPrompt = "You are a creative storyteller for 5th graders. Generate a short, imaginative story starter (2-3 sentences) about a magical container garden, featuring Jamaican plants (e.g., callaloo, scotch bonnet peppers, tomatoes).";
        return {
            apiUrl: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent',
            payload: { contents: [{ parts: [{ text: "Generate a story starter." }] }], systemInstruction: { parts: [{ text: systemPrompt }] } }
        };
    });

    const pestImageUpload = document.getElementById('pest-image-upload');
    let pestImageBase64 = null;
    if(pestImageUpload){
        pestImageUpload.addEventListener('change', e => {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onloadend = () => {
                document.getElementById('pest-image-preview').src = reader.result;
                pestImageBase64 = reader.result.split(',')[1];
            };
            reader.readAsDataURL(file);
        });
        setupApiButton('diagnose-btn', null, 'diagnose-loader', 'diagnose-output', async () => {
            if (!pestImageBase64) return { error: 'Please upload an image first.' };
            const prompt = "You are an expert plant pathologist for a 5th grader. Look at this leaf image. In simple terms, what might be wrong? Suggest 1-2 simple, organic, safe solutions for a child. Be encouraging.";
            return {
                apiUrl: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent',
                payload: { contents: [{ parts: [{ text: prompt }, { inlineData: { mimeType: "image/jpeg", data: pestImageBase64 } }] }] }
            };
        });
    }

    document.getElementById('visualize-plant-btn')?.addEventListener('click', async () => {
        const plantInput = document.getElementById('plant-visualizer-input');
        const plantName = plantInput.value.trim();
        if (!plantName) { showAlert("Please enter a plant name."); return; }
        
        const loader = document.getElementById('visualizer-loader');
        const image = document.getElementById('plant-image');
        loader.style.display = 'block';
        image.style.opacity = '0.5';

        const apiUrl = 'https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict';
        const payload = { instances: { prompt: `A vibrant, artistic painting of a healthy ${plantName} plant in a pot, storybook style.` }, parameters: { "sampleCount": 1 } };
        
        const result = await fetchWithBackoff(apiUrl, payload);
        loader.style.display = 'none';
        image.style.opacity = '1';

        if (result?.predictions?.[0]?.bytesBase64Encoded) {
            image.src = `data:image/png;base64,${result.predictions[0].bytesBase64Encoded}`;
        } else {
            showAlert("Sorry, I couldn't create an image for that.");
            console.error("Imagen API Error:", result);
        }
    });
    
    // TTS for Vocabulary
    const base64ToArrayBuffer = b64 => Uint8Array.from(atob(b64), c => c.charCodeAt(0)).buffer;
    const pcmToWav = (pcmData, sampleRate) => { /* PCM to WAV conversion logic */
        const header = new ArrayBuffer(44);
        const d = new DataView(header);
        d.setUint8(0, 'R'.charCodeAt(0)); d.setUint8(1, 'I'.charCodeAt(0)); d.setUint8(2, 'F'.charCodeAt(0)); d.setUint8(3, 'F'.charCodeAt(0));
        d.setUint32(4, 36 + pcmData.byteLength, true);
        d.setUint8(8, 'W'.charCodeAt(0)); d.setUint8(9, 'A'.charCodeAt(0)); d.setUint8(10, 'V'.charCodeAt(0)); d.setUint8(11, 'E'.charCodeAt(0));
        d.setUint8(12, 'f'.charCodeAt(0)); d.setUint8(13, 'm'.charCodeAt(0)); d.setUint8(14, 't'.charCodeAt(0)); d.setUint8(15, ' '.charCodeAt(0));
        d.setUint32(16, 16, true); d.setUint16(20, 1, true); d.setUint16(22, 1, true);
        d.setUint32(24, sampleRate, true); d.setUint32(28, sampleRate * 2, true); d.setUint16(32, 2, true); d.setUint16(34, 16, true);
        d.setUint8(36, 'd'.charCodeAt(0)); d.setUint8(37, 'a'.charCodeAt(0)); d.setUint8(38, 't'.charCodeAt(0)); d.setUint8(39, 'a'.charCodeAt(0));
        d.setUint32(40, pcmData.byteLength, true);
        return new Blob([header, pcmData], { type: 'audio/wav' });
    };

    document.getElementById('vocab-table')?.addEventListener('click', async (e) => {
        const btn = e.target.closest('.play-vocab-btn');
        if (btn && !btn.disabled) {
            btn.textContent = '...'; btn.disabled = true;
            const text = `${btn.closest('tr').cells[0].textContent}. ${btn.closest('tr').cells[1].textContent}`;
            const apiUrl = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent';
            const payload = { contents: [{ parts: [{ text }] }], generationConfig: { responseModalities: ["AUDIO"] }, model: "gemini-2.5-flash-preview-tts" };
            
            const result = await fetchWithBackoff(apiUrl, payload);
            const part = result?.candidates?.[0]?.content?.parts?.[0];

            if (part?.inlineData?.data) {
                const sampleRate = parseInt(part.inlineData.mimeType.match(/rate=(\d+)/)[1], 10);
                const pcmData = base64ToArrayBuffer(part.inlineData.data);
                const wavBlob = pcmToWav(pcmData, sampleRate);
                const audio = new Audio(URL.createObjectURL(wavBlob));
                audio.play();
                audio.onended = () => { btn.textContent = '🔊'; btn.disabled = false; URL.revokeObjectURL(audio.src); };
            } else {
                console.error("TTS API Error:", result);
                btn.textContent = '🔊'; btn.disabled = false;
            }
        }
    });

});
</script>

</body>
</html>

